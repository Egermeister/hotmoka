<project name="takamaka_examples" default="dist" basedir=".">
  <description>
    Compiles the examples of takamaka classes and contracts
  </description>

  <property name="src" location="src"/>
  <property name="build" location="build"/>
  <property name="dist" location="dist"/>

  <target name="clean" description="clean up">
	<delete dir="${build}"/>
	<delete dir="${dist}"/>
  </target>

  <target name="init" depends="clean">
    <mkdir dir="${build}"/>
  </target>

  <target name="compile" depends="init" description="compile the source">
    <javac srcdir="${src}" destdir="${build}" debug="true" debuglevel="lines,vars,source" includeantruntime="true">
      <classpath>
    	<pathelement path="../takamaka_runtime/bin" />
      </classpath>
    </javac>
  </target>

  <target name="dist" depends="compile" description="generate the distribution">
    <mkdir dir="${dist}"/>
    <jar jarfile="${dist}/basic.jar" basedir="${build}" includes="**/takamaka/tests/basic/**"/>
    <jar jarfile="${dist}/basicdependency.jar" basedir="${build}" includes="**/takamaka/tests/basicdependency/**"/>
  	<jar jarfile="${dist}/purchase.jar" basedir="${build}" includes="**/takamaka/tests/remotepurchase/**"/>
  	<jar jarfile="${dist}/auctions.jar" basedir="${build}" includes="**/takamaka/tests/auction/**"/>
  	<jar jarfile="${dist}/storage.jar" basedir="${build}" includes="**/takamaka/tests/storage/**"/>
  	<jar jarfile="${dist}/voting.jar" basedir="${build}" includes="**/takamaka/tests/voting/**"/>
  	<jar jarfile="${dist}/crowdfunding.jar" basedir="${build}" includes="**/takamaka/tests/crowdfunding/**"/>
  	<jar jarfile="${dist}/collections.jar" basedir="${build}" includes="**/takamaka/tests/collections/**"/>
  	<jar jarfile="${dist}/ponzi.jar" basedir="${build}" includes="**/takamaka/tests/ponzi/**"/>
  	<jar jarfile="${dist}/lambdas.jar" basedir="${build}" includes="**/takamaka/tests/lambdas/**"/>
  	<jar jarfile="${dist}/tictactoe.jar" basedir="${build}" includes="**/takamaka/tests/tictactoe/**"/>
  	<jar jarfile="${dist}/payablewithoutentry1.jar" basedir="${build}" includes="**/takamaka/tests/errors/payablewithoutentry1/**"/>
  	<jar jarfile="${dist}/payablewithoutentry2.jar" basedir="${build}" includes="**/takamaka/tests/errors/payablewithoutentry2/**"/>
	<jar jarfile="${dist}/payablewithoutamount1.jar" basedir="${build}" includes="**/takamaka/tests/errors/payablewithoutamount1/**"/>
  	<jar jarfile="${dist}/payablewithoutamount2.jar" basedir="${build}" includes="**/takamaka/tests/errors/payablewithoutamount2/**"/>
  	<jar jarfile="${dist}/inconsistentpayable1.jar" basedir="${build}" includes="**/takamaka/tests/errors/inconsistentpayable1/**"/>
	<jar jarfile="${dist}/inconsistentpayable2.jar" basedir="${build}" includes="**/takamaka/tests/errors/inconsistentpayable2/**"/>
  	<jar jarfile="${dist}/inconsistententry1.jar" basedir="${build}" includes="**/takamaka/tests/errors/inconsistententry1/**"/>
	<jar jarfile="${dist}/inconsistententry2.jar" basedir="${build}" includes="**/takamaka/tests/errors/inconsistententry2/**"/>
  	<jar jarfile="${dist}/inconsistententry3.jar" basedir="${build}" includes="**/takamaka/tests/errors/inconsistententry3/**"/>
  	<jar jarfile="${dist}/consistententry.jar" basedir="${build}" includes="**/takamaka/tests/errors/consistententry/**"/>
  	<jar jarfile="${dist}/entryonnoncontract.jar" basedir="${build}" includes="**/takamaka/tests/errors/entryonnoncontract/**"/>
  	<jar jarfile="${dist}/entryonnonpublic.jar" basedir="${build}" includes="**/takamaka/tests/errors/entryonnonpublic/**"/>
  	<jar jarfile="${dist}/entryonstatic.jar" basedir="${build}" includes="**/takamaka/tests/errors/entryonstatic/**"/>
  	<jar jarfile="${dist}/callernotonthis.jar" basedir="${build}" includes="**/takamaka/tests/errors/callernotonthis/**"/>
  	<jar jarfile="${dist}/calleroutsideentry.jar" basedir="${build}" includes="**/takamaka/tests/errors/calleroutsideentry/**"/>
	<jar jarfile="${dist}/illegalcalltoentry1.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltoentry1/**"/>
  	<jar jarfile="${dist}/illegalcalltoentry2.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltoentry2/**"/>
  	<jar jarfile="${dist}/illegalcalltoentry3.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltoentry3/**"/>
  	<jar jarfile="${dist}/illegalcalltoentry4.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltoentry4/**"/>
  	<jar jarfile="${dist}/illegalcalltoentry5.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltoentry5/**"/>
  	<jar jarfile="${dist}/legalcalltoentry1.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalcalltoentry1/**"/>
  	<jar jarfile="${dist}/illegaltypeforstoragefield1.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegaltypeforstoragefield1/**"/>
  	<jar jarfile="${dist}/illegaltypeforstoragefield2.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegaltypeforstoragefield2/**"/>
  	<jar jarfile="${dist}/illegaltypeforstoragefield3.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegaltypeforstoragefield3/**"/>
  	<jar jarfile="${dist}/illegalstaticinitialization1.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalstaticinitialization1/**"/>
  	<jar jarfile="${dist}/illegalstaticinitialization2.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalstaticinitialization2/**"/>
  	<jar jarfile="${dist}/illegalstaticinitialization3.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalstaticinitialization3/**"/>
  	<jar jarfile="${dist}/illegalstaticinitialization4.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalstaticinitialization4/**"/>
  	<jar jarfile="${dist}/legalstaticinitialization1.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalstaticinitialization1/**"/>
  	<jar jarfile="${dist}/legalstaticinitialization2.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalstaticinitialization2/**"/>
  	<jar jarfile="${dist}/legalstaticinitialization3.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalstaticinitialization3/**"/>
  	<jar jarfile="${dist}/errors.jar" basedir="${build}" includes="**/takamaka/tests/errors/**"/>
  </target>

</project>