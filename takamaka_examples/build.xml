<project name="takamaka_examples" default="dist" basedir=".">
  <description>
    Compiles the examples of takamaka classes and contracts
  </description>

  <property name="src" location="src"/>
  <property name="build" location="build"/>
  <property name="dist" location="dist"/>

  <target name="clean" description="clean up">
	<delete dir="${build}"/>
	<delete dir="${dist}"/>
  </target>

  <target name="init" depends="clean">
    <mkdir dir="${build}"/>
  </target>

  <target name="compile" depends="init" description="compile the source">
    <javac srcdir="${src}" destdir="${build}" debug="true" debuglevel="lines,vars,source" includeantruntime="true">
      <classpath>
    	<pathelement path="../takamaka_runtime/bin" />
      </classpath>
    </javac>
  </target>

  <target name="dist" depends="compile" description="generate the distribution">
    <mkdir dir="${dist}"/>
    <jar jarfile="${dist}/basic.jar" basedir="${build}" includes="**/takamaka/tests/basic/**"/>
    <jar jarfile="${dist}/basicdependency.jar" basedir="${build}" includes="**/takamaka/tests/basicdependency/**"/>
  	<jar jarfile="${dist}/purchase.jar" basedir="${build}" includes="**/takamaka/tests/remotepurchase/**"/>
  	<jar jarfile="${dist}/auctions.jar" basedir="${build}" includes="**/takamaka/tests/auction/**"/>
  	<jar jarfile="${dist}/storage.jar" basedir="${build}" includes="**/takamaka/tests/storage/**"/>
  	<jar jarfile="${dist}/voting.jar" basedir="${build}" includes="**/takamaka/tests/voting/**"/>
  	<jar jarfile="${dist}/crowdfunding.jar" basedir="${build}" includes="**/takamaka/tests/crowdfunding/**"/>
  	<jar jarfile="${dist}/collections.jar" basedir="${build}" includes="**/takamaka/tests/collections/**"/>
  	<jar jarfile="${dist}/javacollections.jar" basedir="${build}" includes="**/takamaka/tests/javacollections/**"/>
  	<jar jarfile="${dist}/ponzi.jar" basedir="${build}" includes="**/takamaka/tests/ponzi/**"/>
  	<jar jarfile="${dist}/lambdas.jar" basedir="${build}" includes="**/takamaka/tests/lambdas/**"/>
  	<jar jarfile="${dist}/tictactoe.jar" basedir="${build}" includes="**/takamaka/tests/tictactoe/**"/>
  	<jar jarfile="${dist}/abstractfail.jar" basedir="${build}" includes="**/takamaka/tests/abstractfail/**"/>
  	<jar jarfile="${dist}/illegalpackagename1.jar" basedir="${build}" includes="**/takamaka/lang/illegalpackagename1/**"/>
  	<jar jarfile="${dist}/payablewithoutentry1.jar" basedir="${build}" includes="**/takamaka/tests/errors/payablewithoutentry1/**"/>
  	<jar jarfile="${dist}/payablewithoutentry2.jar" basedir="${build}" includes="**/takamaka/tests/errors/payablewithoutentry2/**"/>
	<jar jarfile="${dist}/payablewithoutamount1.jar" basedir="${build}" includes="**/takamaka/tests/errors/payablewithoutamount1/**"/>
  	<jar jarfile="${dist}/payablewithoutamount2.jar" basedir="${build}" includes="**/takamaka/tests/errors/payablewithoutamount2/**"/>
  	<jar jarfile="${dist}/inconsistentpayable1.jar" basedir="${build}" includes="**/takamaka/tests/errors/inconsistentpayable1/**"/>
	<jar jarfile="${dist}/inconsistentpayable2.jar" basedir="${build}" includes="**/takamaka/tests/errors/inconsistentpayable2/**"/>
	<jar jarfile="${dist}/inconsistentthrowsexceptions1.jar" basedir="${build}" includes="**/takamaka/tests/errors/inconsistentthrowsexceptions1/**"/>
	<jar jarfile="${dist}/inconsistentthrowsexceptions2.jar" basedir="${build}" includes="**/takamaka/tests/errors/inconsistentthrowsexceptions2/**"/>
  	<jar jarfile="${dist}/throwsexceptionsonnonpublic1.jar" basedir="${build}" includes="**/takamaka/tests/errors/throwsexceptionsonnonpublic1/**"/>
  	<jar jarfile="${dist}/inconsistententry1.jar" basedir="${build}" includes="**/takamaka/tests/errors/inconsistententry1/**"/>
	<jar jarfile="${dist}/inconsistententry2.jar" basedir="${build}" includes="**/takamaka/tests/errors/inconsistententry2/**"/>
  	<jar jarfile="${dist}/inconsistententry3.jar" basedir="${build}" includes="**/takamaka/tests/errors/inconsistententry3/**"/>
  	<jar jarfile="${dist}/consistententry.jar" basedir="${build}" includes="**/takamaka/tests/errors/consistententry/**"/>
  	<jar jarfile="${dist}/entryonnoncontract.jar" basedir="${build}" includes="**/takamaka/tests/errors/entryonnoncontract/**"/>
  	<jar jarfile="${dist}/entryonstatic.jar" basedir="${build}" includes="**/takamaka/tests/errors/entryonstatic/**"/>
  	<jar jarfile="${dist}/callernotonthis.jar" basedir="${build}" includes="**/takamaka/tests/errors/callernotonthis/**"/>
  	<jar jarfile="${dist}/calleroutsideentry.jar" basedir="${build}" includes="**/takamaka/tests/errors/calleroutsideentry/**"/>
	<jar jarfile="${dist}/illegalcalltoentry1.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltoentry1/**"/>
  	<jar jarfile="${dist}/illegalcalltoentry2.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltoentry2/**"/>
  	<jar jarfile="${dist}/illegalcalltoentry3.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltoentry3/**"/>
  	<jar jarfile="${dist}/illegalcalltoentry4.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltoentry4/**"/>
  	<jar jarfile="${dist}/illegalcalltoentry5.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltoentry5/**"/>
  	<jar jarfile="${dist}/legalcalltoentry1.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalcalltoentry1/**"/>
  	<jar jarfile="${dist}/illegaltypeforstoragefield1.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegaltypeforstoragefield1/**"/>
  	<jar jarfile="${dist}/illegaltypeforstoragefield2.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegaltypeforstoragefield2/**"/>
  	<jar jarfile="${dist}/illegaltypeforstoragefield3.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegaltypeforstoragefield3/**"/>
  	<jar jarfile="${dist}/illegalstaticinitialization1.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalstaticinitialization1/**"/>
  	<jar jarfile="${dist}/illegalstaticinitialization2.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalstaticinitialization2/**"/>
  	<jar jarfile="${dist}/illegalstaticinitialization3.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalstaticinitialization3/**"/>
  	<jar jarfile="${dist}/illegalstaticinitialization4.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalstaticinitialization4/**"/>
  	<jar jarfile="${dist}/legalstaticinitialization1.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalstaticinitialization1/**"/>
  	<jar jarfile="${dist}/legalstaticinitialization2.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalstaticinitialization2/**"/>
  	<jar jarfile="${dist}/legalstaticinitialization3.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalstaticinitialization3/**"/>
  	<jar jarfile="${dist}/illegalstaticfieldupdate.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalstaticfieldupdate/**"/>
  	<jar jarfile="${dist}/illegalnative.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalnative/**"/>
  	<jar jarfile="${dist}/illegalsynchronized1.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalsynchronized1/**"/>
  	<jar jarfile="${dist}/illegalsynchronized2.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalsynchronized2/**"/>
  	<jar jarfile="${dist}/illegalexceptionhandler1.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalexceptionhandler1/**"/>
  	<jar jarfile="${dist}/illegalexceptionhandler2.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalexceptionhandler2/**"/>
  	<jar jarfile="${dist}/illegalexceptionhandler3.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalexceptionhandler3/**"/>
  	<jar jarfile="${dist}/illegalexceptionhandler4.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalexceptionhandler4/**"/>
  	<jar jarfile="${dist}/illegalexceptionhandler5.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalexceptionhandler5/**"/>
  	<jar jarfile="${dist}/illegalexceptionhandler6.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalexceptionhandler6/**"/>
  	<jar jarfile="${dist}/illegalaccesstononwhitelistedfield1.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalaccesstononwhitelistedfield1/**"/>
  	<jar jarfile="${dist}/illegalcalltononwhitelistedconstructor1.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltononwhitelistedconstructor1/**"/>
  	<jar jarfile="${dist}/illegalcalltononwhitelistedconstructor2.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltononwhitelistedconstructor2/**"/>
  	<jar jarfile="${dist}/illegalcalltononwhitelistedmethod1.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltononwhitelistedmethod1/**"/>
	<jar jarfile="${dist}/illegalcalltononwhitelistedmethod2.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltononwhitelistedmethod2/**"/>
  	<jar jarfile="${dist}/illegalcalltononwhitelistedmethod3.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltononwhitelistedmethod3/**"/>
	<jar jarfile="${dist}/illegalcalltononwhitelistedmethod4.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltononwhitelistedmethod4/**"/>
	<jar jarfile="${dist}/illegalcalltononwhitelistedmethod5.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltononwhitelistedmethod5/**"/>
  	<jar jarfile="${dist}/illegalcalltononwhitelistedmethod6.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltononwhitelistedmethod6/**"/>
	<jar jarfile="${dist}/illegalcalltononwhitelistedmethod7.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltononwhitelistedmethod7/**"/>
	<jar jarfile="${dist}/illegalcalltononwhitelistedmethod8.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltononwhitelistedmethod8/**"/>
  	<jar jarfile="${dist}/illegalcalltononwhitelistedmethod9.jar" basedir="${build}" includes="**/takamaka/tests/errors/illegalcalltononwhitelistedmethod9/**"/>
  	<jar jarfile="${dist}/legalcall1.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalcall1/**"/>
  	<jar jarfile="${dist}/legalcall2.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalcall2/**"/>
  	<jar jarfile="${dist}/legalcall3.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalcall3/**"/>
  	<jar jarfile="${dist}/legalcall4.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalcall4/**"/>
  	<jar jarfile="${dist}/legalexceptionhandler1.jar" basedir="${build}" includes="**/takamaka/tests/errors/legalexceptionhandler1/**"/>
  	<jar jarfile="${dist}/errors.jar" basedir="${build}" includes="**/takamaka/tests/errors/**,**/takamaka/lang/**"/>
  </target>

</project>